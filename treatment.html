<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Top Down Design of Treatment
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Domain library to model medical treatment"/>
    <meta name="author" content="halcwb"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/GenTreat/content/style.css" />
    <script type="text/javascript" src="/GenTreat/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/halcwb/GenTreat">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/GenTreat/index.html">GenTreat</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Top-Down-Design-of-Treatment" class="anchor" href="#Top-Down-Design-of-Treatment">Top Down Design of Treatment</a></h1>
<p>This literate script defines the top down design of a library
that facilitates treatment of patients.</p>
<p>Patient treatment is a continuous loop of the following steps:</p>
<ol>
<li>Get the patient (and patient data)</li>
<li>Get decision support (drug repositories, protocols, etc...)</li>
<li>Determine the treatment targets</li>
<li>Add or remove treatment from existing patient treatment</li>
<li>Plan the treatment</li>
<li>Administer treatment</li>
<li>Evaluate the treatment (is essentially step 1 - 4)</li>
</ol>
</br>
</br>
<p><strong> The Medication Cycle </strong>
<img src="https://docs.google.com/drawings/d/1NP8mq1Pu6UYbBp51DUmkQoo8tz3769VDbiEoDoPQ2IE/pub?w=744&amp;h=520"></p>
<h2><a name="The-domain-model" class="anchor" href="#The-domain-model">The domain model</a></h2>
<p>A patient type is needed to model the patient that is
receiving treatment.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The patient who is receiving treatment</span>
<span class="k">type</span> <span class="t">Patient</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="p">Patient</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="t">string</span>
</code></pre></td>
</tr>
</table>
<p>Next a patient exhibits signs, these signs can be
used to define targets and/or conditions.</p>
<p>For example:</p>
<ul>
<li>
Bloodpressure: target is keeping the bloodpressure
above 60, or as a condition, a bloodpressure of above
160 signifies high bloodpressure
</li>
<li>
Painscore: whether or not and how much pain a patient
experiences
</li>
<li>Liverfailure: whether or not a patient has liverfailure</li>
<li>
Central Venous Line: whether or not a patient has a
central venous line.
</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// A Sign is an patient sympton or measurement</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="t">Sign</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="p">BloodPressure</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="t">int</span>
    | <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="p">PainScore</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="t">int</span>
    | <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="p">LiverFailure</span>
    | <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="p">CentralVenousLine</span>
</code></pre></td>
</tr>
</table>
<p>So, a patient can have zero or more signs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The Sign list a Patient has</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="t">PatientSigns</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="p">PatientSigns</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs1', 12)" onmouseover="showTip(event, 'fs1', 12)" class="t">Patient</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs3', 13)" onmouseover="showTip(event, 'fs3', 13)" class="t">Sign</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="t">list</span>
</code></pre></td>
</tr>
</table>
<p>A target is defigned by whether a target is reached
or not. Given a patient sign this is determined.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The target to achieve by Treatment</span>
<span class="c">/// For example: &lt;/br&gt;</span>
<span class="c">/// blood pressure &gt; 60 mmHg &lt;/br&gt;</span>
<span class="c">/// pain score &lt; 1</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="t">Target</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="p">Target</span> <span class="k">of</span> (<span onmouseout="hideTip(event, 'fs3', 17)" onmouseover="showTip(event, 'fs3', 17)" class="t">Sign</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="t">bool</span>)
</code></pre></td>
</tr>
</table>
<p>A condition is defined as a state the patient is in.</p>
<p>For example, the condition liverfailure is defined by
the sign liverfailure is true, while the absence is
defined by liverfailure is false. Absence or presence
of the condition is checked by the combination of a target
and a boolean</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// A Condition is a whether a Target</span>
<span class="c">/// is met or not.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="t">Condition</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="p">Has</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs11', 21)" onmouseover="showTip(event, 'fs11', 21)" class="t">Target</span>
    | <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="p">HasNot</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs11', 23)" onmouseover="showTip(event, 'fs11', 23)" class="t">Target</span>
</code></pre></td>
</tr>
</table>
<p>The order is the actual treatment order that is used
to achieve a target. This can be a medication order but
also a order concerning nutrition, ventilation etc..</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The order by which the Target can be achieved</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="t">Order</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 25)" onmouseover="showTip(event, 'fs16', 25)" class="p">Order</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 26)" onmouseover="showTip(event, 'fs2', 26)" class="t">string</span>
</code></pre></td>
</tr>
</table>
<p>So, a treatment is the combination of a target and an order.
In which the order is used to achieve the target. In medical terms
the target can also be viewed as the indication. Only, the
indication can be low blood pressure, while a target can be
more specific, a blood pressure above 60.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// An Order to achieve a Target</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs17', 27)" onmouseover="showTip(event, 'fs17', 27)" class="t">Treatment</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 28)" onmouseover="showTip(event, 'fs17', 28)" class="p">Treatment</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs11', 29)" onmouseover="showTip(event, 'fs11', 29)" class="t">Target</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="t">Order</span>
</code></pre></td>
</tr>
</table>
<p>The patient treatment is a patient with a list of treatments.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The list of treatment for a patient</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="t">PatientTreatment</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="p">PatientTreatment</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs1', 33)" onmouseover="showTip(event, 'fs1', 33)" class="t">Patient</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs17', 34)" onmouseover="showTip(event, 'fs17', 34)" class="t">Treatment</span> <span onmouseout="hideTip(event, 'fs10', 35)" onmouseover="showTip(event, 'fs10', 35)" class="t">list</span>
</code></pre></td>
</tr>
</table>
<p>Using a combination of conditions and a treatment it can be
determined if a treatment should be applied. When all the
conditions in the condition list are met, and the treatment
target is not achieved, there is an indication to start the
treatment.</p>
<p>For example, a patien is in pain, has no liverfaiure, then
treatment with paracetamol can be commenced. However, when the
patient has liver failure, paracetamol might be the wrong choice.</p>
<p>Then next item in the protocol list can be morfine. So, when
the first step, paracetamol is not feasible, the next step,
morfine can be applied.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// A protocol is a list of Sign and a Treatment</span>
<span class="c">/// ordered by precedence. If all Sign in the</span>
<span class="c">/// Sign list is met and the Target is not met</span>
<span class="c">/// then the Treatment can be applied.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs19', 36)" onmouseover="showTip(event, 'fs19', 36)" class="t">Protocol</span> <span class="o">=</span>  <span onmouseout="hideTip(event, 'fs19', 37)" onmouseover="showTip(event, 'fs19', 37)" class="p">Protocol</span> <span class="k">of</span> (<span onmouseout="hideTip(event, 'fs13', 38)" onmouseover="showTip(event, 'fs13', 38)" class="t">Condition</span> <span onmouseout="hideTip(event, 'fs10', 39)" onmouseover="showTip(event, 'fs10', 39)" class="t">list</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs17', 40)" onmouseover="showTip(event, 'fs17', 40)" class="t">Treatment</span>) <span onmouseout="hideTip(event, 'fs10', 41)" onmouseover="showTip(event, 'fs10', 41)" class="t">list</span>
</code></pre></td>
</tr>
</table>
<p>In order to evaluate a patient using a protocol, the protocol
is needed, the patient signs and the current patient treatment.</p>
<p>The result of the evaluation is a new patient treatment, in
which according to patient signs and the protocol, treatment is
added or removed, or the patient treatment is unchanged.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Evaluate a Patient whether all Targets</span>
<span class="c">/// in Protocol are met and add Treatment if</span>
<span class="c">/// Target is not met or remove if</span>
<span class="c">/// Target is not met</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs20', 42)" onmouseover="showTip(event, 'fs20', 42)" class="t">EvaluateProtocol</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs21', 43)" onmouseover="showTip(event, 'fs21', 43)" class="p">Evaluate</span> <span class="k">of</span>
        (<span onmouseout="hideTip(event, 'fs19', 44)" onmouseover="showTip(event, 'fs19', 44)" class="t">Protocol</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs9', 45)" onmouseover="showTip(event, 'fs9', 45)" class="t">PatientSigns</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 46)" onmouseover="showTip(event, 'fs18', 46)" class="t">PatientTreatment</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 47)" onmouseover="showTip(event, 'fs18', 47)" class="t">PatientTreatment</span>)
</code></pre></td>
</tr>
</table>
<h2><a name="Implementation-of-the-model" class="anchor" href="#Implementation-of-the-model">Implementation of the model</a></h2>
<p>First we need a patient so we create one with a simple string as
the patient id.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create patient</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 48)" onmouseover="showTip(event, 'fs22', 48)" class="f">createPatient</span> <span onmouseout="hideTip(event, 'fs23', 49)" onmouseover="showTip(event, 'fs23', 49)" class="i">s</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 50)" onmouseover="showTip(event, 'fs23', 50)" class="i">s</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 51)" onmouseover="showTip(event, 'fs1', 51)" class="p">Patient</span>
</code></pre></td>
</tr>
</table>
<p>Next we can create some patient signs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create signs</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 52)" onmouseover="showTip(event, 'fs24', 52)" class="f">createSign</span> <span onmouseout="hideTip(event, 'fs25', 53)" onmouseover="showTip(event, 'fs25', 53)" class="f">c</span> <span onmouseout="hideTip(event, 'fs26', 54)" onmouseover="showTip(event, 'fs26', 54)" class="i">s</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="i">s</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 56)" onmouseover="showTip(event, 'fs25', 56)" class="f">c</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 57)" onmouseover="showTip(event, 'fs27', 57)" class="f">createBloodPressure</span>     <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 58)" onmouseover="showTip(event, 'fs24', 58)" class="f">createSign</span> <span onmouseout="hideTip(event, 'fs4', 59)" onmouseover="showTip(event, 'fs4', 59)" class="p">BloodPressure</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 60)" onmouseover="showTip(event, 'fs28', 60)" class="f">createPainScore</span>         <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 61)" onmouseover="showTip(event, 'fs24', 61)" class="f">createSign</span> <span onmouseout="hideTip(event, 'fs6', 62)" onmouseover="showTip(event, 'fs6', 62)" class="p">PainScore</span>
</code></pre></td>
</tr>
</table>
<p>And then we can connect those signs to a specific patient.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create and add to PatientSigns</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 63)" onmouseover="showTip(event, 'fs29', 63)" class="f">createPatienSigns</span> <span onmouseout="hideTip(event, 'fs30', 64)" onmouseover="showTip(event, 'fs30', 64)" class="i">p</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs30', 65)" onmouseover="showTip(event, 'fs30', 65)" class="i">p</span>, []) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs9', 66)" onmouseover="showTip(event, 'fs9', 66)" class="p">PatientSigns</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 67)" onmouseover="showTip(event, 'fs31', 67)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs32', 68)" onmouseover="showTip(event, 'fs32', 68)" class="i">sgn</span> (<span onmouseout="hideTip(event, 'fs9', 69)" onmouseover="showTip(event, 'fs9', 69)" class="p">PatientSigns</span>(<span onmouseout="hideTip(event, 'fs30', 70)" onmouseover="showTip(event, 'fs30', 70)" class="i">p</span>, <span onmouseout="hideTip(event, 'fs33', 71)" onmouseover="showTip(event, 'fs33', 71)" class="i">sgns</span>)) <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs30', 72)" onmouseover="showTip(event, 'fs30', 72)" class="i">p</span>, <span onmouseout="hideTip(event, 'fs32', 73)" onmouseover="showTip(event, 'fs32', 73)" class="i">sgn</span><span class="o">::</span><span class="i">sgns</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs9', 74)" onmouseover="showTip(event, 'fs9', 74)" class="p">PatientSigns</span>
</code></pre></td>
</tr>
</table>
<p>For example a 'Test Patient', with no current signs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create a patient</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 75)" onmouseover="showTip(event, 'fs34', 75)" class="i">testPat</span> <span class="o">=</span> <span class="s">&quot;Test Patient&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 76)" onmouseover="showTip(event, 'fs22', 76)" class="f">createPatient</span>
<span class="c">// Create patient signs for that patient</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 77)" onmouseover="showTip(event, 'fs35', 77)" class="i">patsigns</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 78)" onmouseover="showTip(event, 'fs34', 78)" class="i">testPat</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 79)" onmouseover="showTip(event, 'fs29', 79)" class="f">createPatienSigns</span>
</code></pre></td>
</tr>
</table>
<p>Next we define some targets and conditions to construct protocols.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create targets</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 82)" onmouseover="showTip(event, 'fs37', 82)" class="f">createTarget</span> <span onmouseout="hideTip(event, 'fs38', 83)" onmouseover="showTip(event, 'fs38', 83)" class="f">f</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 84)" onmouseover="showTip(event, 'fs38', 84)" class="f">f</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 85)" onmouseover="showTip(event, 'fs11', 85)" class="p">Target</span>
<span class="c">// Create treatment targets</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 86)" onmouseover="showTip(event, 'fs39', 86)" class="f">createBloodPressureTarget</span> <span onmouseout="hideTip(event, 'fs40', 87)" onmouseover="showTip(event, 'fs40', 87)" class="f">pred</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 88)" onmouseover="showTip(event, 'fs37', 88)" class="f">createTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 89)" onmouseover="showTip(event, 'fs32', 89)" class="i">sgn</span> <span class="k">-&gt;</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs32', 90)" onmouseover="showTip(event, 'fs32', 90)" class="i">sgn</span> <span class="k">with</span>
        | <span onmouseout="hideTip(event, 'fs4', 91)" onmouseover="showTip(event, 'fs4', 91)" class="p">BloodPressure</span> <span onmouseout="hideTip(event, 'fs41', 92)" onmouseover="showTip(event, 'fs41', 92)" class="i">bp</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 93)" onmouseover="showTip(event, 'fs41', 93)" class="i">bp</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs40', 94)" onmouseover="showTip(event, 'fs40', 94)" class="f">pred</span>
        | _ <span class="k">-&gt;</span> <span class="k">true</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 95)" onmouseover="showTip(event, 'fs42', 95)" class="f">createPainScoreTarget</span> <span onmouseout="hideTip(event, 'fs40', 96)" onmouseover="showTip(event, 'fs40', 96)" class="f">pred</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 97)" onmouseover="showTip(event, 'fs37', 97)" class="f">createTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 98)" onmouseover="showTip(event, 'fs32', 98)" class="i">sgn</span> <span class="k">-&gt;</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs32', 99)" onmouseover="showTip(event, 'fs32', 99)" class="i">sgn</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs6', 100)" onmouseover="showTip(event, 'fs6', 100)" class="p">PainScore</span> <span onmouseout="hideTip(event, 'fs43', 101)" onmouseover="showTip(event, 'fs43', 101)" class="i">ps</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs43', 102)" onmouseover="showTip(event, 'fs43', 102)" class="i">ps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs40', 103)" onmouseover="showTip(event, 'fs40', 103)" class="f">pred</span>
    | _ <span class="k">-&gt;</span> <span class="k">true</span>)

<span class="c">// Create conditions</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 104)" onmouseover="showTip(event, 'fs44', 104)" class="f">createCentralVenousLineCondition</span> <span onmouseout="hideTip(event, 'fs45', 105)" onmouseover="showTip(event, 'fs45', 105)" class="f">c</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs13', 106)" onmouseover="showTip(event, 'fs13', 106)" class="t">Condition</span> <span class="o">=</span>
    (<span onmouseout="hideTip(event, 'fs37', 107)" onmouseover="showTip(event, 'fs37', 107)" class="f">createTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 108)" onmouseover="showTip(event, 'fs32', 108)" class="i">sgn</span> <span class="k">-&gt;</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs32', 109)" onmouseover="showTip(event, 'fs32', 109)" class="i">sgn</span> <span class="k">with</span>
            | <span onmouseout="hideTip(event, 'fs8', 110)" onmouseover="showTip(event, 'fs8', 110)" class="p">CentralVenousLine</span> <span class="k">-&gt;</span> <span class="k">true</span>
            | _ <span class="k">-&gt;</span> <span class="k">false</span>)) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 111)" onmouseover="showTip(event, 'fs45', 111)" class="f">c</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 112)" onmouseover="showTip(event, 'fs46', 112)" class="f">createLiverFailureCondition</span> <span onmouseout="hideTip(event, 'fs45', 113)" onmouseover="showTip(event, 'fs45', 113)" class="f">c</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs13', 114)" onmouseover="showTip(event, 'fs13', 114)" class="t">Condition</span> <span class="o">=</span>
    (<span onmouseout="hideTip(event, 'fs37', 115)" onmouseover="showTip(event, 'fs37', 115)" class="f">createTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 116)" onmouseover="showTip(event, 'fs32', 116)" class="i">sgn</span> <span class="k">-&gt;</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs32', 117)" onmouseover="showTip(event, 'fs32', 117)" class="i">sgn</span> <span class="k">with</span>
            | <span onmouseout="hideTip(event, 'fs7', 118)" onmouseover="showTip(event, 'fs7', 118)" class="p">LiverFailure</span> <span class="k">-&gt;</span> <span class="k">true</span>
            | _ <span class="k">-&gt;</span> <span class="k">false</span>)) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 119)" onmouseover="showTip(event, 'fs45', 119)" class="f">c</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs47', 120)" onmouseover="showTip(event, 'fs47', 120)" class="f">createBloodPressureCondition</span> <span onmouseout="hideTip(event, 'fs40', 121)" onmouseover="showTip(event, 'fs40', 121)" class="f">pred</span> <span onmouseout="hideTip(event, 'fs45', 122)" onmouseover="showTip(event, 'fs45', 122)" class="f">c</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs13', 123)" onmouseover="showTip(event, 'fs13', 123)" class="t">Condition</span> <span class="o">=</span>
    (<span onmouseout="hideTip(event, 'fs37', 124)" onmouseover="showTip(event, 'fs37', 124)" class="f">createTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 125)" onmouseover="showTip(event, 'fs32', 125)" class="i">sgn</span> <span class="k">-&gt;</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs32', 126)" onmouseover="showTip(event, 'fs32', 126)" class="i">sgn</span> <span class="k">with</span>
            | <span onmouseout="hideTip(event, 'fs4', 127)" onmouseover="showTip(event, 'fs4', 127)" class="p">BloodPressure</span> <span onmouseout="hideTip(event, 'fs48', 128)" onmouseover="showTip(event, 'fs48', 128)" class="i">bpl</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs48', 129)" onmouseover="showTip(event, 'fs48', 129)" class="i">bpl</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs40', 130)" onmouseover="showTip(event, 'fs40', 130)" class="f">pred</span>
            | _ <span class="k">-&gt;</span> <span class="k">true</span>)) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 131)" onmouseover="showTip(event, 'fs45', 131)" class="f">c</span>
</code></pre></td>
</tr>
</table>
<p>A blood pressure target could be the intention to keep the
blood pressure above 60.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Bloodpressure targets</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs49', 132)" onmouseover="showTip(event, 'fs49', 132)" class="i">bpTargetLt60</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 133)" onmouseover="showTip(event, 'fs39', 133)" class="f">createBloodPressureTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs41', 134)" onmouseover="showTip(event, 'fs41', 134)" class="i">bp</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 135)" onmouseover="showTip(event, 'fs41', 135)" class="i">bp</span> <span class="o">&gt;</span> <span class="n">60</span>)
</code></pre></td>
</tr>
</table>
<p>Also, we want the patient to experience minimal or no pain as indicated
by a painscore of 1 or lower.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Pain target</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 136)" onmouseover="showTip(event, 'fs50', 136)" class="i">noPain</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs42', 137)" onmouseover="showTip(event, 'fs42', 137)" class="f">createPainScoreTarget</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs51', 138)" onmouseover="showTip(event, 'fs51', 138)" class="i">sc</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs51', 139)" onmouseover="showTip(event, 'fs51', 139)" class="i">sc</span> <span class="o">&lt;=</span> <span class="n">1</span>)
</code></pre></td>
</tr>
</table>
<p>There are also some conditions that can determine whether or not
a treatment should be applied.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Condition targets</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 140)" onmouseover="showTip(event, 'fs52', 140)" class="i">hasCvlCond</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 141)" onmouseover="showTip(event, 'fs44', 141)" class="f">createCentralVenousLineCondition</span> <span onmouseout="hideTip(event, 'fs14', 142)" onmouseover="showTip(event, 'fs14', 142)" class="p">Has</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs53', 143)" onmouseover="showTip(event, 'fs53', 143)" class="i">noLvfCond</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs46', 144)" onmouseover="showTip(event, 'fs46', 144)" class="f">createLiverFailureCondition</span> <span onmouseout="hideTip(event, 'fs15', 145)" onmouseover="showTip(event, 'fs15', 145)" class="p">HasNot</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 146)" onmouseover="showTip(event, 'fs54', 146)" class="i">bpCondSt160</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs47', 147)" onmouseover="showTip(event, 'fs47', 147)" class="f">createBloodPressureCondition</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs41', 148)" onmouseover="showTip(event, 'fs41', 148)" class="i">bp</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 149)" onmouseover="showTip(event, 'fs41', 149)" class="i">bp</span> <span class="o">&lt;</span> <span class="n">160</span>) <span onmouseout="hideTip(event, 'fs14', 150)" onmouseover="showTip(event, 'fs14', 150)" class="p">Has</span>
</code></pre></td>
</tr>
</table>
<p>Lets create a set of possible patient signs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Signs</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 151)" onmouseover="showTip(event, 'fs55', 151)" class="i">bp40</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 152)" onmouseover="showTip(event, 'fs27', 152)" class="f">createBloodPressure</span> <span class="n">40</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 153)" onmouseover="showTip(event, 'fs56', 153)" class="i">pain</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 154)" onmouseover="showTip(event, 'fs28', 154)" class="f">createPainScore</span> <span class="n">3</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 155)" onmouseover="showTip(event, 'fs57', 155)" class="i">cvl</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 156)" onmouseover="showTip(event, 'fs8', 156)" class="p">CentralVenousLine</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 157)" onmouseover="showTip(event, 'fs58', 157)" class="i">lvf</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 158)" onmouseover="showTip(event, 'fs7', 158)" class="p">LiverFailure</span>
</code></pre></td>
</tr>
</table>
<p>We the can add these signs to the test patient.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Add patient signs</span>
<span onmouseout="hideTip(event, 'fs35', 159)" onmouseover="showTip(event, 'fs35', 159)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 160)" onmouseover="showTip(event, 'fs31', 160)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs55', 161)" onmouseover="showTip(event, 'fs55', 161)" class="i">bp40</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 162)" onmouseover="showTip(event, 'fs31', 162)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 163)" onmouseover="showTip(event, 'fs56', 163)" class="i">pain</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 164)" onmouseover="showTip(event, 'fs31', 164)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs57', 165)" onmouseover="showTip(event, 'fs57', 165)" class="i">cvl</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 166)" onmouseover="showTip(event, 'fs31', 166)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs58', 167)" onmouseover="showTip(event, 'fs58', 167)" class="i">lvf</span>
</code></pre></td>
</tr>
</table>
<p>We need to determine whether a target is met or a condition exists.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Check if target is met according to signs</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 168)" onmouseover="showTip(event, 'fs59', 168)" class="f">targetIsMet</span> (<span onmouseout="hideTip(event, 'fs11', 169)" onmouseover="showTip(event, 'fs11', 169)" class="p">Target</span>(<span onmouseout="hideTip(event, 'fs38', 170)" onmouseover="showTip(event, 'fs38', 170)" class="f">f</span>)) <span onmouseout="hideTip(event, 'fs33', 171)" onmouseover="showTip(event, 'fs33', 171)" class="i">sgns</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs33', 172)" onmouseover="showTip(event, 'fs33', 172)" class="i">sgns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 173)" onmouseover="showTip(event, 'fs60', 173)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 174)" onmouseover="showTip(event, 'fs61', 174)" class="f">forall</span> <span onmouseout="hideTip(event, 'fs38', 175)" onmouseover="showTip(event, 'fs38', 175)" class="f">f</span>

<span class="c">// Check if condition is met according to signs</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 176)" onmouseover="showTip(event, 'fs62', 176)" class="f">conditionIsMet</span> <span onmouseout="hideTip(event, 'fs63', 177)" onmouseover="showTip(event, 'fs63', 177)" class="i">cond</span> <span onmouseout="hideTip(event, 'fs33', 178)" onmouseover="showTip(event, 'fs33', 178)" class="i">sgns</span> <span class="o">=</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs63', 179)" onmouseover="showTip(event, 'fs63', 179)" class="i">cond</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs14', 180)" onmouseover="showTip(event, 'fs14', 180)" class="p">Has</span> (<span onmouseout="hideTip(event, 'fs11', 181)" onmouseover="showTip(event, 'fs11', 181)" class="p">Target</span>(<span onmouseout="hideTip(event, 'fs38', 182)" onmouseover="showTip(event, 'fs38', 182)" class="f">f</span>))    <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 183)" onmouseover="showTip(event, 'fs33', 183)" class="i">sgns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 184)" onmouseover="showTip(event, 'fs60', 184)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 185)" onmouseover="showTip(event, 'fs64', 185)" class="f">exists</span> <span onmouseout="hideTip(event, 'fs38', 186)" onmouseover="showTip(event, 'fs38', 186)" class="f">f</span>
    | <span onmouseout="hideTip(event, 'fs15', 187)" onmouseover="showTip(event, 'fs15', 187)" class="p">HasNot</span> (<span onmouseout="hideTip(event, 'fs11', 188)" onmouseover="showTip(event, 'fs11', 188)" class="p">Target</span>(<span onmouseout="hideTip(event, 'fs38', 189)" onmouseover="showTip(event, 'fs38', 189)" class="f">f</span>)) <span class="k">-&gt;</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs33', 190)" onmouseover="showTip(event, 'fs33', 190)" class="i">sgns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 191)" onmouseover="showTip(event, 'fs60', 191)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs65', 192)" onmouseover="showTip(event, 'fs65', 192)" class="f">isEmpty</span> <span class="k">then</span> <span class="k">true</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs33', 193)" onmouseover="showTip(event, 'fs33', 193)" class="i">sgns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 194)" onmouseover="showTip(event, 'fs60', 194)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 195)" onmouseover="showTip(event, 'fs64', 195)" class="f">exists</span> <span onmouseout="hideTip(event, 'fs38', 196)" onmouseover="showTip(event, 'fs38', 196)" class="f">f</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs66', 197)" onmouseover="showTip(event, 'fs66', 197)" class="f">not</span>
</code></pre></td>
</tr>
</table>
<p>To define treatmet, orders are needed.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create an Order</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs67', 221)" onmouseover="showTip(event, 'fs67', 221)" class="f">createOrder</span> <span onmouseout="hideTip(event, 'fs68', 222)" onmouseover="showTip(event, 'fs68', 222)" class="i">ord</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs68', 223)" onmouseover="showTip(event, 'fs68', 223)" class="i">ord</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 224)" onmouseover="showTip(event, 'fs16', 224)" class="p">Order</span>

<span class="c">// Create some test orders</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 225)" onmouseover="showTip(event, 'fs69', 225)" class="i">pcm</span>  <span class="o">=</span> <span class="s">&quot;paracetamol&quot;</span>   <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs67', 226)" onmouseover="showTip(event, 'fs67', 226)" class="f">createOrder</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 227)" onmouseover="showTip(event, 'fs70', 227)" class="i">morf</span> <span class="o">=</span> <span class="s">&quot;morfine&quot;</span>       <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs67', 228)" onmouseover="showTip(event, 'fs67', 228)" class="f">createOrder</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 229)" onmouseover="showTip(event, 'fs71', 229)" class="i">dopa</span> <span class="o">=</span> <span class="s">&quot;dopamine&quot;</span>      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs67', 230)" onmouseover="showTip(event, 'fs67', 230)" class="f">createOrder</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 231)" onmouseover="showTip(event, 'fs72', 231)" class="i">nor</span>  <span class="o">=</span> <span class="s">&quot;noradrenaline&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs67', 232)" onmouseover="showTip(event, 'fs67', 232)" class="f">createOrder</span>
</code></pre></td>
</tr>
</table>
<p>Treatment is created by combining a target with an orderd.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create a Treatment</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 233)" onmouseover="showTip(event, 'fs73', 233)" class="f">createTreatment</span> <span onmouseout="hideTip(event, 'fs74', 234)" onmouseover="showTip(event, 'fs74', 234)" class="i">targ</span> <span onmouseout="hideTip(event, 'fs75', 235)" onmouseover="showTip(event, 'fs75', 235)" class="i">ord</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs74', 236)" onmouseover="showTip(event, 'fs74', 236)" class="i">targ</span>, <span onmouseout="hideTip(event, 'fs75', 237)" onmouseover="showTip(event, 'fs75', 237)" class="i">ord</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs17', 238)" onmouseover="showTip(event, 'fs17', 238)" class="p">Treatment</span>
</code></pre></td>
</tr>
</table>
<p>A treatment is the same as some other treatment when the orders
are the same (targets could differ).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 239)" onmouseover="showTip(event, 'fs76', 239)" class="f">eqsTreatment</span> (<span onmouseout="hideTip(event, 'fs17', 240)" onmouseover="showTip(event, 'fs17', 240)" class="p">Treatment</span>(_, <span onmouseout="hideTip(event, 'fs77', 241)" onmouseover="showTip(event, 'fs77', 241)" class="i">ord1</span>)) (<span onmouseout="hideTip(event, 'fs17', 242)" onmouseover="showTip(event, 'fs17', 242)" class="p">Treatment</span>(_, <span onmouseout="hideTip(event, 'fs78', 243)" onmouseover="showTip(event, 'fs78', 243)" class="i">ord2</span>)) <span class="o">=</span> <span class="i">ord1</span> <span class="o">=</span> <span class="i">ord2</span>
</code></pre></td>
</tr>
</table>
<p>Here, treatment with paracetamol, morfine, dopamine and noradrenalin
are created.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create treatement examples</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 244)" onmouseover="showTip(event, 'fs79', 244)" class="i">pcmTreat</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs69', 245)" onmouseover="showTip(event, 'fs69', 245)" class="i">pcm</span>  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs73', 246)" onmouseover="showTip(event, 'fs73', 246)" class="f">createTreatment</span> <span onmouseout="hideTip(event, 'fs50', 247)" onmouseover="showTip(event, 'fs50', 247)" class="i">noPain</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 248)" onmouseover="showTip(event, 'fs80', 248)" class="i">morfTreat</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs70', 249)" onmouseover="showTip(event, 'fs70', 249)" class="i">morf</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs73', 250)" onmouseover="showTip(event, 'fs73', 250)" class="f">createTreatment</span> <span onmouseout="hideTip(event, 'fs50', 251)" onmouseover="showTip(event, 'fs50', 251)" class="i">noPain</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 252)" onmouseover="showTip(event, 'fs81', 252)" class="i">dopaTreat</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 253)" onmouseover="showTip(event, 'fs71', 253)" class="i">dopa</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs73', 254)" onmouseover="showTip(event, 'fs73', 254)" class="f">createTreatment</span> <span onmouseout="hideTip(event, 'fs49', 255)" onmouseover="showTip(event, 'fs49', 255)" class="i">bpTargetLt60</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs82', 256)" onmouseover="showTip(event, 'fs82', 256)" class="i">norTreat</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs72', 257)" onmouseover="showTip(event, 'fs72', 257)" class="i">nor</span>  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs73', 258)" onmouseover="showTip(event, 'fs73', 258)" class="f">createTreatment</span> <span onmouseout="hideTip(event, 'fs49', 259)" onmouseover="showTip(event, 'fs49', 259)" class="i">bpTargetLt60</span>
</code></pre></td>
</tr>
</table>
<p>To create protocol, a list of conditions is needed along
with a treatment.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create and add to a Protocol</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs83', 260)" onmouseover="showTip(event, 'fs83', 260)" class="f">createProtocol</span> <span onmouseout="hideTip(event, 'fs84', 261)" onmouseover="showTip(event, 'fs84', 261)" class="i">cnds</span> <span onmouseout="hideTip(event, 'fs85', 262)" onmouseover="showTip(event, 'fs85', 262)" class="i">trt</span> <span class="o">=</span> [(<span onmouseout="hideTip(event, 'fs84', 263)" onmouseover="showTip(event, 'fs84', 263)" class="i">cnds</span>, <span onmouseout="hideTip(event, 'fs85', 264)" onmouseover="showTip(event, 'fs85', 264)" class="i">trt</span>)] <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs19', 265)" onmouseover="showTip(event, 'fs19', 265)" class="p">Protocol</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 266)" onmouseover="showTip(event, 'fs86', 266)" class="f">nextStepInProtocol</span> <span onmouseout="hideTip(event, 'fs84', 267)" onmouseover="showTip(event, 'fs84', 267)" class="i">cnds</span> <span onmouseout="hideTip(event, 'fs85', 268)" onmouseover="showTip(event, 'fs85', 268)" class="i">trt</span> (<span onmouseout="hideTip(event, 'fs19', 269)" onmouseover="showTip(event, 'fs19', 269)" class="p">Protocol</span>(<span onmouseout="hideTip(event, 'fs87', 270)" onmouseover="showTip(event, 'fs87', 270)" class="i">trts</span>)) <span class="o">=</span>
    [(<span onmouseout="hideTip(event, 'fs84', 271)" onmouseover="showTip(event, 'fs84', 271)" class="i">cnds</span>, <span onmouseout="hideTip(event, 'fs85', 272)" onmouseover="showTip(event, 'fs85', 272)" class="i">trt</span>)] <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 273)" onmouseover="showTip(event, 'fs60', 273)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 274)" onmouseover="showTip(event, 'fs88', 274)" class="f">append</span> <span class="i">trts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs19', 275)" onmouseover="showTip(event, 'fs19', 275)" class="p">Protocol</span>
</code></pre></td>
</tr>
</table>
<p>A pain protocol could look like this:</p>
<ol>
<li>
The first step is paracetamol, if no liver failure present
and the patient is in pain (the target)
</li>
<li>The next step is to add or replace with morfine.</li>
</ol>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create a pain protocol</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs89', 276)" onmouseover="showTip(event, 'fs89', 276)" class="i">painProtocol</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs79', 277)" onmouseover="showTip(event, 'fs79', 277)" class="i">pcmTreat</span>
    <span class="c">// Give pcm if no liver failure and pain</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs83', 278)" onmouseover="showTip(event, 'fs83', 278)" class="f">createProtocol</span> [<span onmouseout="hideTip(event, 'fs53', 279)" onmouseover="showTip(event, 'fs53', 279)" class="i">noLvfCond</span>]
    <span class="c">// Give morfine if still pain</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs86', 280)" onmouseover="showTip(event, 'fs86', 280)" class="f">nextStepInProtocol</span> [] <span onmouseout="hideTip(event, 'fs80', 281)" onmouseover="showTip(event, 'fs80', 281)" class="i">morfTreat</span>
</code></pre></td>
</tr>
</table>
<p>A blood pressure protocol looks like:</p>
<ol>
<li>
First start with dopammine when the blood pressure
is lower than 60, a contraindication is a bloodpressure above 160
</li>
<li>Next add noradrenalin if the patient has a central venous line</li>
</ol>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create a blood pressure protocol</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 282)" onmouseover="showTip(event, 'fs90', 282)" class="i">bpProtocol</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs81', 283)" onmouseover="showTip(event, 'fs81', 283)" class="i">dopaTreat</span>
    <span class="c">// Start with dopa if bp &lt; 60 but no bp &gt; 160</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs83', 284)" onmouseover="showTip(event, 'fs83', 284)" class="f">createProtocol</span> [<span onmouseout="hideTip(event, 'fs54', 285)" onmouseover="showTip(event, 'fs54', 285)" class="i">bpCondSt160</span>]
    <span class="c">// Add nor if cvl and no bp &gt; 160</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs86', 286)" onmouseover="showTip(event, 'fs86', 286)" class="f">nextStepInProtocol</span> [<span onmouseout="hideTip(event, 'fs52', 287)" onmouseover="showTip(event, 'fs52', 287)" class="i">hasCvlCond</span>; <span onmouseout="hideTip(event, 'fs54', 288)" onmouseover="showTip(event, 'fs54', 288)" class="i">bpCondSt160</span>] <span onmouseout="hideTip(event, 'fs82', 289)" onmouseover="showTip(event, 'fs82', 289)" class="i">norTreat</span>
</code></pre></td>
</tr>
</table>
<p>A patient can be associated with a list of treatment. Treatment
can be added an removed from that list.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Create and add to patient treatment</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs91', 290)" onmouseover="showTip(event, 'fs91', 290)" class="f">createPatientTreatment</span> <span onmouseout="hideTip(event, 'fs92', 291)" onmouseover="showTip(event, 'fs92', 291)" class="i">testPat</span> <span onmouseout="hideTip(event, 'fs93', 292)" onmouseover="showTip(event, 'fs93', 292)" class="i">trts</span> <span class="o">=</span>
    (<span onmouseout="hideTip(event, 'fs92', 293)" onmouseover="showTip(event, 'fs92', 293)" class="i">testPat</span>, <span onmouseout="hideTip(event, 'fs93', 294)" onmouseover="showTip(event, 'fs93', 294)" class="i">trts</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 295)" onmouseover="showTip(event, 'fs18', 295)" class="p">PatientTreatment</span>
<span class="c">// Add the treatment if not allready there</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 296)" onmouseover="showTip(event, 'fs94', 296)" class="f">addPatientTreatment</span> <span onmouseout="hideTip(event, 'fs85', 297)" onmouseover="showTip(event, 'fs85', 297)" class="i">trt</span> (<span onmouseout="hideTip(event, 'fs18', 298)" onmouseover="showTip(event, 'fs18', 298)" class="p">PatientTreatment</span>(<span onmouseout="hideTip(event, 'fs92', 299)" onmouseover="showTip(event, 'fs92', 299)" class="i">testPat</span>, <span onmouseout="hideTip(event, 'fs93', 300)" onmouseover="showTip(event, 'fs93', 300)" class="i">trts</span>)) <span class="o">=</span>
    <span class="k">if</span> <span class="i">trts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 301)" onmouseover="showTip(event, 'fs60', 301)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 302)" onmouseover="showTip(event, 'fs64', 302)" class="f">exists</span> (<span onmouseout="hideTip(event, 'fs76', 303)" onmouseover="showTip(event, 'fs76', 303)" class="f">eqsTreatment</span> <span onmouseout="hideTip(event, 'fs85', 304)" onmouseover="showTip(event, 'fs85', 304)" class="i">trt</span>) <span class="k">then</span>
        (<span onmouseout="hideTip(event, 'fs34', 305)" onmouseover="showTip(event, 'fs34', 305)" class="i">testPat</span>, <span class="i">trts</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 306)" onmouseover="showTip(event, 'fs18', 306)" class="p">PatientTreatment</span>
    <span class="k">else</span> (<span onmouseout="hideTip(event, 'fs34', 307)" onmouseover="showTip(event, 'fs34', 307)" class="i">testPat</span>, <span onmouseout="hideTip(event, 'fs85', 308)" onmouseover="showTip(event, 'fs85', 308)" class="i">trt</span><span class="o">::</span><span class="i">trts</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 309)" onmouseover="showTip(event, 'fs18', 309)" class="p">PatientTreatment</span>
<span class="c">// Remove the treatment if there</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs95', 310)" onmouseover="showTip(event, 'fs95', 310)" class="f">removePatientTreatment</span> <span onmouseout="hideTip(event, 'fs85', 311)" onmouseover="showTip(event, 'fs85', 311)" class="i">trt</span> (<span onmouseout="hideTip(event, 'fs18', 312)" onmouseover="showTip(event, 'fs18', 312)" class="p">PatientTreatment</span>(<span onmouseout="hideTip(event, 'fs92', 313)" onmouseover="showTip(event, 'fs92', 313)" class="i">testPat</span>, <span onmouseout="hideTip(event, 'fs93', 314)" onmouseover="showTip(event, 'fs93', 314)" class="i">trts</span>)) <span class="o">=</span>
    (<span onmouseout="hideTip(event, 'fs34', 315)" onmouseover="showTip(event, 'fs34', 315)" class="i">testPat</span>, <span class="i">trts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 316)" onmouseover="showTip(event, 'fs60', 316)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 317)" onmouseover="showTip(event, 'fs96', 317)" class="f">filter</span>((<span onmouseout="hideTip(event, 'fs76', 318)" onmouseover="showTip(event, 'fs76', 318)" class="f">eqsTreatment</span> <span onmouseout="hideTip(event, 'fs85', 319)" onmouseover="showTip(event, 'fs85', 319)" class="i">trt</span>) <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs66', 320)" onmouseover="showTip(event, 'fs66', 320)" class="f">not</span>))
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 321)" onmouseover="showTip(event, 'fs18', 321)" class="p">PatientTreatment</span>

<span class="c">// Test patient treatment</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs97', 322)" onmouseover="showTip(event, 'fs97', 322)" class="i">patTreatm</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs91', 323)" onmouseover="showTip(event, 'fs91', 323)" class="f">createPatientTreatment</span> <span onmouseout="hideTip(event, 'fs34', 324)" onmouseover="showTip(event, 'fs34', 324)" class="i">testPat</span> []
</code></pre></td>
</tr>
</table>
<p>hidden *</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs98', 325)" onmouseover="showTip(event, 'fs98', 325)" class="f">printTreatment</span> (<span onmouseout="hideTip(event, 'fs18', 326)" onmouseover="showTip(event, 'fs18', 326)" class="p">PatientTreatment</span>(<span onmouseout="hideTip(event, 'fs99', 327)" onmouseover="showTip(event, 'fs99', 327)" class="i">pat</span>, <span onmouseout="hideTip(event, 'fs93', 328)" onmouseover="showTip(event, 'fs93', 328)" class="i">trts</span>)) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 329)" onmouseover="showTip(event, 'fs100', 329)" class="i">n</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs1', 330)" onmouseover="showTip(event, 'fs1', 330)" class="p">Patient</span> <span onmouseout="hideTip(event, 'fs100', 331)" onmouseover="showTip(event, 'fs100', 331)" class="i">n</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs99', 332)" onmouseover="showTip(event, 'fs99', 332)" class="i">pat</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs100', 333)" onmouseover="showTip(event, 'fs100', 333)" class="i">n</span>
    <span onmouseout="hideTip(event, 'fs36', 334)" onmouseover="showTip(event, 'fs36', 334)" class="f">printfn</span> <span class="s">&quot;------------------------&quot;</span>
    <span onmouseout="hideTip(event, 'fs36', 335)" onmouseover="showTip(event, 'fs36', 335)" class="f">printfn</span> <span class="s">&quot;&quot;</span>
    <span onmouseout="hideTip(event, 'fs36', 336)" onmouseover="showTip(event, 'fs36', 336)" class="f">printfn</span> <span class="s">&quot;Treatment for: </span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs100', 337)" onmouseover="showTip(event, 'fs100', 337)" class="i">n</span>
    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs85', 338)" onmouseover="showTip(event, 'fs85', 338)" class="i">trt</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs93', 339)" onmouseover="showTip(event, 'fs93', 339)" class="i">trts</span> <span class="k">do</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs75', 340)" onmouseover="showTip(event, 'fs75', 340)" class="i">ord</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs17', 341)" onmouseover="showTip(event, 'fs17', 341)" class="p">Treatment</span>(_, <span onmouseout="hideTip(event, 'fs75', 342)" onmouseover="showTip(event, 'fs75', 342)" class="i">ord</span>)) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 343)" onmouseover="showTip(event, 'fs85', 343)" class="i">trt</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs75', 344)" onmouseover="showTip(event, 'fs75', 344)" class="i">ord</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 345)" onmouseover="showTip(event, 'fs23', 345)" class="i">s</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs16', 346)" onmouseover="showTip(event, 'fs16', 346)" class="p">Order</span>(<span onmouseout="hideTip(event, 'fs23', 347)" onmouseover="showTip(event, 'fs23', 347)" class="i">s</span>)) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 348)" onmouseover="showTip(event, 'fs75', 348)" class="i">ord</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs23', 349)" onmouseover="showTip(event, 'fs23', 349)" class="i">s</span>
        <span onmouseout="hideTip(event, 'fs36', 350)" onmouseover="showTip(event, 'fs36', 350)" class="f">printfn</span> <span class="s">&quot;- </span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs23', 351)" onmouseover="showTip(event, 'fs23', 351)" class="i">s</span>
    <span onmouseout="hideTip(event, 'fs36', 352)" onmouseover="showTip(event, 'fs36', 352)" class="f">printfn</span> <span class="s">&quot;&quot;</span>
    <span onmouseout="hideTip(event, 'fs36', 353)" onmouseover="showTip(event, 'fs36', 353)" class="f">printfn</span> <span class="s">&quot;------------------------&quot;</span>
</code></pre></td>
</tr>
</table>
<p>Finally, the algorythm to evaluate the patient treatment
according to a protocol.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Evaluate a protocols</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs101', 354)" onmouseover="showTip(event, 'fs101', 354)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs102', 355)" onmouseover="showTip(event, 'fs102', 355)" class="i">prot</span> (<span onmouseout="hideTip(event, 'fs9', 356)" onmouseover="showTip(event, 'fs9', 356)" class="p">PatientSigns</span>(_, <span onmouseout="hideTip(event, 'fs33', 357)" onmouseover="showTip(event, 'fs33', 357)" class="i">sgns</span>)) <span onmouseout="hideTip(event, 'fs103', 358)" onmouseover="showTip(event, 'fs103', 358)" class="i">patTr</span> <span class="o">=</span>
    <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs104', 359)" onmouseover="showTip(event, 'fs104', 359)" class="f">eval</span> (<span onmouseout="hideTip(event, 'fs19', 360)" onmouseover="showTip(event, 'fs19', 360)" class="p">Protocol</span>(<span onmouseout="hideTip(event, 'fs105', 361)" onmouseover="showTip(event, 'fs105', 361)" class="i">xs</span>)) <span onmouseout="hideTip(event, 'fs106', 362)" onmouseover="showTip(event, 'fs106', 362)" class="i">acc</span> <span class="o">=</span>
        <span class="k">match</span> <span class="i">xs</span> <span class="k">with</span>
        | [] <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs106', 363)" onmouseover="showTip(event, 'fs106', 363)" class="i">acc</span>
        | <span onmouseout="hideTip(event, 'fs107', 364)" onmouseover="showTip(event, 'fs107', 364)" class="i">h</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs108', 365)" onmouseover="showTip(event, 'fs108', 365)" class="i">rest</span> <span class="k">-&gt;</span>
            <span class="c">// The list of conditions for the treatment</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 366)" onmouseover="showTip(event, 'fs84', 366)" class="i">cnds</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs107', 367)" onmouseover="showTip(event, 'fs107', 367)" class="i">h</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs109', 368)" onmouseover="showTip(event, 'fs109', 368)" class="f">fst</span>
            <span class="c">// The treatment to consider</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs85', 369)" onmouseover="showTip(event, 'fs85', 369)" class="i">trt</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs107', 370)" onmouseover="showTip(event, 'fs107', 370)" class="i">h</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs110', 371)" onmouseover="showTip(event, 'fs110', 371)" class="f">snd</span>
            <span class="c">// The treatment target</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 372)" onmouseover="showTip(event, 'fs111', 372)" class="i">trg</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs17', 373)" onmouseover="showTip(event, 'fs17', 373)" class="p">Treatment</span>(<span onmouseout="hideTip(event, 'fs111', 374)" onmouseover="showTip(event, 'fs111', 374)" class="i">trg</span>, _)) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 375)" onmouseover="showTip(event, 'fs85', 375)" class="i">trt</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs111', 376)" onmouseover="showTip(event, 'fs111', 376)" class="i">trg</span>
            <span class="c">// Check whether all conditions are met</span>
            <span class="c">// according to the patient signals</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs112', 377)" onmouseover="showTip(event, 'fs112', 377)" class="i">condMet</span> <span class="o">=</span>
                <span onmouseout="hideTip(event, 'fs84', 378)" onmouseover="showTip(event, 'fs84', 378)" class="i">cnds</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 379)" onmouseover="showTip(event, 'fs60', 379)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 380)" onmouseover="showTip(event, 'fs61', 380)" class="f">forall</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs113', 381)" onmouseover="showTip(event, 'fs113', 381)" class="i">cnd</span> <span class="k">-&gt;</span>
                    <span onmouseout="hideTip(event, 'fs33', 382)" onmouseover="showTip(event, 'fs33', 382)" class="i">sgns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs62', 383)" onmouseover="showTip(event, 'fs62', 383)" class="f">conditionIsMet</span> <span onmouseout="hideTip(event, 'fs113', 384)" onmouseover="showTip(event, 'fs113', 384)" class="i">cnd</span>)
            <span class="c">// Check whether target is met according</span>
            <span class="c">// to the patient signals</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs114', 385)" onmouseover="showTip(event, 'fs114', 385)" class="i">targetMet</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs33', 386)" onmouseover="showTip(event, 'fs33', 386)" class="i">sgns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 387)" onmouseover="showTip(event, 'fs59', 387)" class="f">targetIsMet</span> <span onmouseout="hideTip(event, 'fs111', 388)" onmouseover="showTip(event, 'fs111', 388)" class="i">trg</span>
            <span onmouseout="hideTip(event, 'fs36', 389)" onmouseover="showTip(event, 'fs36', 389)" class="f">printfn</span> <span class="s">&quot;Conditions met: </span><span class="pf">%b</span><span class="s">, TargetMet: </span><span class="pf">%b</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs112', 390)" onmouseover="showTip(event, 'fs112', 390)" class="i">condMet</span> <span onmouseout="hideTip(event, 'fs114', 391)" onmouseover="showTip(event, 'fs114', 391)" class="i">targetMet</span>
            <span onmouseout="hideTip(event, 'fs36', 392)" onmouseover="showTip(event, 'fs36', 392)" class="f">printfn</span> <span class="s">&quot;For treatment: </span><span class="pf">%A</span><span class="s">&quot;</span> (<span class="k">let</span> (<span onmouseout="hideTip(event, 'fs17', 393)" onmouseover="showTip(event, 'fs17', 393)" class="p">Treatment</span>(_, <span onmouseout="hideTip(event, 'fs75', 394)" onmouseover="showTip(event, 'fs75', 394)" class="i">ord</span>)) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 395)" onmouseover="showTip(event, 'fs85', 395)" class="i">trt</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs75', 396)" onmouseover="showTip(event, 'fs75', 396)" class="i">ord</span>)
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs112', 397)" onmouseover="showTip(event, 'fs112', 397)" class="i">condMet</span>, <span onmouseout="hideTip(event, 'fs114', 398)" onmouseover="showTip(event, 'fs114', 398)" class="i">targetMet</span> <span class="k">with</span>
            <span class="c">// condition met, target not met</span>
            | <span class="k">true</span>, <span class="k">false</span> <span class="k">-&gt;</span>
                <span class="c">// First check if treatment is not allready there</span>
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs115', 399)" onmouseover="showTip(event, 'fs115', 399)" class="i">hasNotTrt</span> <span class="o">=</span>
                    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs93', 400)" onmouseover="showTip(event, 'fs93', 400)" class="i">trts</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs18', 401)" onmouseover="showTip(event, 'fs18', 401)" class="p">PatientTreatment</span>(_, <span onmouseout="hideTip(event, 'fs93', 402)" onmouseover="showTip(event, 'fs93', 402)" class="i">trts</span>)) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs106', 403)" onmouseover="showTip(event, 'fs106', 403)" class="i">acc</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs93', 404)" onmouseover="showTip(event, 'fs93', 404)" class="i">trts</span>
                    <span onmouseout="hideTip(event, 'fs93', 405)" onmouseover="showTip(event, 'fs93', 405)" class="i">trts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs60', 406)" onmouseover="showTip(event, 'fs60', 406)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 407)" onmouseover="showTip(event, 'fs64', 407)" class="f">exists</span>(<span onmouseout="hideTip(event, 'fs76', 408)" onmouseover="showTip(event, 'fs76', 408)" class="f">eqsTreatment</span> <span onmouseout="hideTip(event, 'fs85', 409)" onmouseover="showTip(event, 'fs85', 409)" class="i">trt</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs66', 410)" onmouseover="showTip(event, 'fs66', 410)" class="f">not</span>
                <span class="k">if</span> <span onmouseout="hideTip(event, 'fs115', 411)" onmouseover="showTip(event, 'fs115', 411)" class="i">hasNotTrt</span> <span class="k">then</span>
                    <span class="c">// Add the treatment</span>
                    <span onmouseout="hideTip(event, 'fs106', 412)" onmouseover="showTip(event, 'fs106', 412)" class="i">acc</span>
                    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 413)" onmouseover="showTip(event, 'fs94', 413)" class="f">addPatientTreatment</span> <span onmouseout="hideTip(event, 'fs85', 414)" onmouseover="showTip(event, 'fs85', 414)" class="i">trt</span>
                    <span class="c">// And stop the evaluation</span>
                    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 415)" onmouseover="showTip(event, 'fs104', 415)" class="f">eval</span> ([] <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs19', 416)" onmouseover="showTip(event, 'fs19', 416)" class="p">Protocol</span>)
                <span class="c">// Otherwise continue with the rest</span>
                <span class="k">else</span> <span onmouseout="hideTip(event, 'fs106', 417)" onmouseover="showTip(event, 'fs106', 417)" class="i">acc</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 418)" onmouseover="showTip(event, 'fs104', 418)" class="f">eval</span> (<span onmouseout="hideTip(event, 'fs108', 419)" onmouseover="showTip(event, 'fs108', 419)" class="i">rest</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs19', 420)" onmouseover="showTip(event, 'fs19', 420)" class="p">Protocol</span>)
            <span class="c">// conditions met, but target also met</span>
            | <span class="k">true</span>, <span class="k">true</span>
            <span class="c">// or conditions not met</span>
            | <span class="k">false</span>, _ <span class="k">-&gt;</span>
                <span class="c">// Remove the treatment if there</span>
                <span onmouseout="hideTip(event, 'fs106', 421)" onmouseover="showTip(event, 'fs106', 421)" class="i">acc</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs95', 422)" onmouseover="showTip(event, 'fs95', 422)" class="f">removePatientTreatment</span> <span onmouseout="hideTip(event, 'fs85', 423)" onmouseover="showTip(event, 'fs85', 423)" class="i">trt</span>
                <span class="c">// And continue the evaluation</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 424)" onmouseover="showTip(event, 'fs104', 424)" class="f">eval</span> (<span onmouseout="hideTip(event, 'fs108', 425)" onmouseover="showTip(event, 'fs108', 425)" class="i">rest</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs19', 426)" onmouseover="showTip(event, 'fs19', 426)" class="p">Protocol</span>)

    <span onmouseout="hideTip(event, 'fs104', 427)" onmouseover="showTip(event, 'fs104', 427)" class="f">eval</span> <span onmouseout="hideTip(event, 'fs102', 428)" onmouseover="showTip(event, 'fs102', 428)" class="i">prot</span> <span onmouseout="hideTip(event, 'fs103', 429)" onmouseover="showTip(event, 'fs103', 429)" class="i">patTr</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Test-the-implementation" class="anchor" href="#Test-the-implementation">Test the implementation</a></h2>
<p>The implementation is tested with some examples</p>
<p>The first example tests what happens when the pain
protocol is applied to a patient without any signs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
<span class="l">69: </span>
<span class="l">70: </span>
<span class="l">71: </span>
<span class="l">72: </span>
<span class="l">73: </span>
<span class="l">74: </span>
<span class="l">75: </span>
<span class="l">76: </span>
<span class="l">77: </span>
<span class="l">78: </span>
<span class="l">79: </span>
<span class="l">80: </span>
<span class="l">81: </span>
<span class="l">82: </span>
<span class="l">83: </span>
<span class="l">84: </span>
<span class="l">85: </span>
<span class="l">86: </span>
<span class="l">87: </span>
<span class="l">88: </span>
<span class="l">89: </span>
<span class="l">90: </span>
<span class="l">91: </span>
<span class="l">92: </span>
<span class="l">93: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Evaluate pain protocol for patient without signs</span>
<span class="c">// Expect: no treatment</span>
<span onmouseout="hideTip(event, 'fs97', 430)" onmouseover="showTip(event, 'fs97', 430)" class="i">patTreatm</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 431)" onmouseover="showTip(event, 'fs101', 431)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 432)" onmouseover="showTip(event, 'fs89', 432)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs35', 433)" onmouseover="showTip(event, 'fs35', 433)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 434)" onmouseover="showTip(event, 'fs98', 434)" class="f">printTreatment</span>

<span class="c">// Evaluate pain protocol for patient with pain</span>
<span class="c">// Expect: paracetamol</span>
<span onmouseout="hideTip(event, 'fs35', 435)" onmouseover="showTip(event, 'fs35', 435)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 436)" onmouseover="showTip(event, 'fs31', 436)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 437)" onmouseover="showTip(event, 'fs56', 437)" class="i">pain</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 438)" onmouseover="showTip(event, 'fs116', 438)" class="i">signs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs97', 439)" onmouseover="showTip(event, 'fs97', 439)" class="i">patTreatm</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 440)" onmouseover="showTip(event, 'fs101', 440)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 441)" onmouseover="showTip(event, 'fs89', 441)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 442)" onmouseover="showTip(event, 'fs116', 442)" class="i">signs</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 443)" onmouseover="showTip(event, 'fs98', 443)" class="f">printTreatment</span>

<span class="c">// Evaluate pain protocol for patient with pain and allready paracetemol</span>
<span class="c">// Expect: paracetamol and morfine</span>
<span onmouseout="hideTip(event, 'fs35', 444)" onmouseover="showTip(event, 'fs35', 444)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 445)" onmouseover="showTip(event, 'fs31', 445)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 446)" onmouseover="showTip(event, 'fs56', 446)" class="i">pain</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 447)" onmouseover="showTip(event, 'fs116', 447)" class="i">signs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs97', 448)" onmouseover="showTip(event, 'fs97', 448)" class="i">patTreatm</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 449)" onmouseover="showTip(event, 'fs101', 449)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 450)" onmouseover="showTip(event, 'fs89', 450)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 451)" onmouseover="showTip(event, 'fs116', 451)" class="i">signs</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 452)" onmouseover="showTip(event, 'fs101', 452)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 453)" onmouseover="showTip(event, 'fs89', 453)" class="i">painProtocol</span> (<span onmouseout="hideTip(event, 'fs35', 454)" onmouseover="showTip(event, 'fs35', 454)" class="i">patsigns</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 455)" onmouseover="showTip(event, 'fs31', 455)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 456)" onmouseover="showTip(event, 'fs56', 456)" class="i">pain</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 457)" onmouseover="showTip(event, 'fs98', 457)" class="f">printTreatment</span>

<span class="c">// Evaluate pain protocol for patient with pain but also liver failure</span>
<span class="c">// Expect: morfine</span>
<span onmouseout="hideTip(event, 'fs35', 458)" onmouseover="showTip(event, 'fs35', 458)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 459)" onmouseover="showTip(event, 'fs31', 459)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 460)" onmouseover="showTip(event, 'fs56', 460)" class="i">pain</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 461)" onmouseover="showTip(event, 'fs31', 461)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs58', 462)" onmouseover="showTip(event, 'fs58', 462)" class="i">lvf</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 463)" onmouseover="showTip(event, 'fs116', 463)" class="i">signs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs97', 464)" onmouseover="showTip(event, 'fs97', 464)" class="i">patTreatm</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 465)" onmouseover="showTip(event, 'fs101', 465)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 466)" onmouseover="showTip(event, 'fs89', 466)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 467)" onmouseover="showTip(event, 'fs116', 467)" class="i">signs</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 468)" onmouseover="showTip(event, 'fs98', 468)" class="f">printTreatment</span>

<span class="c">// First the patient has pain, then also liver failure</span>
<span class="c">// Evaluate pain protocol for patient with pain but also liver failure</span>
<span class="c">// Expect: first paracatamol, then only morfine</span>
<span onmouseout="hideTip(event, 'fs35', 469)" onmouseover="showTip(event, 'fs35', 469)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 470)" onmouseover="showTip(event, 'fs31', 470)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 471)" onmouseover="showTip(event, 'fs56', 471)" class="i">pain</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 472)" onmouseover="showTip(event, 'fs116', 472)" class="i">signs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs97', 473)" onmouseover="showTip(event, 'fs97', 473)" class="i">patTreatm</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 474)" onmouseover="showTip(event, 'fs101', 474)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 475)" onmouseover="showTip(event, 'fs89', 475)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 476)" onmouseover="showTip(event, 'fs116', 476)" class="i">signs</span>)
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 477)" onmouseover="showTip(event, 'fs117', 477)" class="i">pt</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs117', 478)" onmouseover="showTip(event, 'fs117', 478)" class="i">pt</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 479)" onmouseover="showTip(event, 'fs98', 479)" class="f">printTreatment</span>; <span onmouseout="hideTip(event, 'fs117', 480)" onmouseover="showTip(event, 'fs117', 480)" class="i">pt</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 481)" onmouseover="showTip(event, 'fs101', 481)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 482)" onmouseover="showTip(event, 'fs89', 482)" class="i">painProtocol</span> (<span onmouseout="hideTip(event, 'fs35', 483)" onmouseover="showTip(event, 'fs35', 483)" class="i">patsigns</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 484)" onmouseover="showTip(event, 'fs31', 484)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 485)" onmouseover="showTip(event, 'fs56', 485)" class="i">pain</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 486)" onmouseover="showTip(event, 'fs31', 486)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs58', 487)" onmouseover="showTip(event, 'fs58', 487)" class="i">lvf</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 488)" onmouseover="showTip(event, 'fs98', 488)" class="f">printTreatment</span>

<span class="c">// Evaluate pain protocol for patient with low blood pressure</span>
<span class="c">// Expect: No treatment</span>
<span onmouseout="hideTip(event, 'fs35', 489)" onmouseover="showTip(event, 'fs35', 489)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 490)" onmouseover="showTip(event, 'fs31', 490)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs55', 491)" onmouseover="showTip(event, 'fs55', 491)" class="i">bp40</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 492)" onmouseover="showTip(event, 'fs116', 492)" class="i">signs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs97', 493)" onmouseover="showTip(event, 'fs97', 493)" class="i">patTreatm</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 494)" onmouseover="showTip(event, 'fs101', 494)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 495)" onmouseover="showTip(event, 'fs89', 495)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 496)" onmouseover="showTip(event, 'fs116', 496)" class="i">signs</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 497)" onmouseover="showTip(event, 'fs98', 497)" class="f">printTreatment</span>

<span class="c">// Evaluate pain protocol for patient with pain and low blood pressure</span>
<span class="c">// Expect: paracetamol</span>
<span onmouseout="hideTip(event, 'fs35', 498)" onmouseover="showTip(event, 'fs35', 498)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 499)" onmouseover="showTip(event, 'fs31', 499)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs55', 500)" onmouseover="showTip(event, 'fs55', 500)" class="i">bp40</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 501)" onmouseover="showTip(event, 'fs31', 501)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 502)" onmouseover="showTip(event, 'fs56', 502)" class="i">pain</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 503)" onmouseover="showTip(event, 'fs116', 503)" class="i">signs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs97', 504)" onmouseover="showTip(event, 'fs97', 504)" class="i">patTreatm</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 505)" onmouseover="showTip(event, 'fs101', 505)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 506)" onmouseover="showTip(event, 'fs89', 506)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 507)" onmouseover="showTip(event, 'fs116', 507)" class="i">signs</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 508)" onmouseover="showTip(event, 'fs98', 508)" class="f">printTreatment</span>

<span class="c">// Evaluate pain protocol and blood pressure protocol</span>
<span class="c">// for patient with pain and low blood pressure</span>
<span class="c">// Expect: paracetamol and dopamine</span>
<span onmouseout="hideTip(event, 'fs35', 509)" onmouseover="showTip(event, 'fs35', 509)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 510)" onmouseover="showTip(event, 'fs31', 510)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs55', 511)" onmouseover="showTip(event, 'fs55', 511)" class="i">bp40</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 512)" onmouseover="showTip(event, 'fs31', 512)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs56', 513)" onmouseover="showTip(event, 'fs56', 513)" class="i">pain</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 514)" onmouseover="showTip(event, 'fs116', 514)" class="i">signs</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs97', 515)" onmouseover="showTip(event, 'fs97', 515)" class="i">patTreatm</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 516)" onmouseover="showTip(event, 'fs101', 516)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs89', 517)" onmouseover="showTip(event, 'fs89', 517)" class="i">painProtocol</span> <span onmouseout="hideTip(event, 'fs116', 518)" onmouseover="showTip(event, 'fs116', 518)" class="i">signs</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 519)" onmouseover="showTip(event, 'fs101', 519)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs90', 520)" onmouseover="showTip(event, 'fs90', 520)" class="i">bpProtocol</span> <span onmouseout="hideTip(event, 'fs116', 521)" onmouseover="showTip(event, 'fs116', 521)" class="i">signs</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 522)" onmouseover="showTip(event, 'fs98', 522)" class="f">printTreatment</span>

<span class="c">// Evaluate a blood pressure protocol for a patient</span>
<span class="c">// with low blood pressure, which still has low blood</span>
<span class="c">// pressure during the second evaluation but has no</span>
<span class="c">// central venous line</span>
<span class="c">// Expect: dopamine and then still only dopamine</span>
<span onmouseout="hideTip(event, 'fs35', 523)" onmouseover="showTip(event, 'fs35', 523)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 524)" onmouseover="showTip(event, 'fs31', 524)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs55', 525)" onmouseover="showTip(event, 'fs55', 525)" class="i">bp40</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 526)" onmouseover="showTip(event, 'fs116', 526)" class="i">signs</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs97', 527)" onmouseover="showTip(event, 'fs97', 527)" class="i">patTreatm</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 528)" onmouseover="showTip(event, 'fs101', 528)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs90', 529)" onmouseover="showTip(event, 'fs90', 529)" class="i">bpProtocol</span> <span onmouseout="hideTip(event, 'fs116', 530)" onmouseover="showTip(event, 'fs116', 530)" class="i">signs</span>
        <span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 531)" onmouseover="showTip(event, 'fs117', 531)" class="i">pt</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs117', 532)" onmouseover="showTip(event, 'fs117', 532)" class="i">pt</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 533)" onmouseover="showTip(event, 'fs98', 533)" class="f">printTreatment</span>; <span onmouseout="hideTip(event, 'fs117', 534)" onmouseover="showTip(event, 'fs117', 534)" class="i">pt</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 535)" onmouseover="showTip(event, 'fs101', 535)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs90', 536)" onmouseover="showTip(event, 'fs90', 536)" class="i">bpProtocol</span> <span onmouseout="hideTip(event, 'fs116', 537)" onmouseover="showTip(event, 'fs116', 537)" class="i">signs</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 538)" onmouseover="showTip(event, 'fs98', 538)" class="f">printTreatment</span>)

<span class="c">// Now the patient has a central venous line</span>
<span class="c">// Expect: dopamine, then dopamine and noradrenalin</span>
<span onmouseout="hideTip(event, 'fs35', 539)" onmouseover="showTip(event, 'fs35', 539)" class="i">patsigns</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 540)" onmouseover="showTip(event, 'fs31', 540)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs55', 541)" onmouseover="showTip(event, 'fs55', 541)" class="i">bp40</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 542)" onmouseover="showTip(event, 'fs31', 542)" class="f">addPatientSign</span> <span onmouseout="hideTip(event, 'fs57', 543)" onmouseover="showTip(event, 'fs57', 543)" class="i">cvl</span>
<span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 544)" onmouseover="showTip(event, 'fs116', 544)" class="i">signs</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs97', 545)" onmouseover="showTip(event, 'fs97', 545)" class="i">patTreatm</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 546)" onmouseover="showTip(event, 'fs101', 546)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs90', 547)" onmouseover="showTip(event, 'fs90', 547)" class="i">bpProtocol</span> <span onmouseout="hideTip(event, 'fs116', 548)" onmouseover="showTip(event, 'fs116', 548)" class="i">signs</span>
        <span class="o">|&gt;</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 549)" onmouseover="showTip(event, 'fs117', 549)" class="i">pt</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs117', 550)" onmouseover="showTip(event, 'fs117', 550)" class="i">pt</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 551)" onmouseover="showTip(event, 'fs98', 551)" class="f">printTreatment</span>; <span onmouseout="hideTip(event, 'fs117', 552)" onmouseover="showTip(event, 'fs117', 552)" class="i">pt</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 553)" onmouseover="showTip(event, 'fs101', 553)" class="f">evaluateProtocol</span> <span onmouseout="hideTip(event, 'fs90', 554)" onmouseover="showTip(event, 'fs90', 554)" class="i">bpProtocol</span> <span onmouseout="hideTip(event, 'fs116', 555)" onmouseover="showTip(event, 'fs116', 555)" class="i">signs</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 556)" onmouseover="showTip(event, 'fs98', 556)" class="f">printTreatment</span>)
</code></pre></td>
</tr>
</table>

<div class="tip" id="fs1">Multiple items<br />union case Patient.Patient: string -&gt; Patient<br /><br />--------------------<br />type Patient = | Patient of string<br /><br />Full name: Treatment.Patient<br /><em><br /><br />&#160;The patient who is receiving treatment</em></div>
<div class="tip" id="fs2">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs3">type Sign =<br />&#160;&#160;| BloodPressure of int<br />&#160;&#160;| PainScore of int<br />&#160;&#160;| LiverFailure<br />&#160;&#160;| CentralVenousLine<br /><br />Full name: Treatment.Sign<br /><em><br /><br />&#160;A Sign is an patient sympton or measurement</em></div>
<div class="tip" id="fs4">union case Sign.BloodPressure: int -&gt; Sign</div>
<div class="tip" id="fs5">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs6">union case Sign.PainScore: int -&gt; Sign</div>
<div class="tip" id="fs7">union case Sign.LiverFailure: Sign</div>
<div class="tip" id="fs8">union case Sign.CentralVenousLine: Sign</div>
<div class="tip" id="fs9">Multiple items<br />union case PatientSigns.PatientSigns: Patient * Sign list -&gt; PatientSigns<br /><br />--------------------<br />type PatientSigns = | PatientSigns of Patient * Sign list<br /><br />Full name: Treatment.PatientSigns<br /><em><br /><br />&#160;The Sign list a Patient has</em></div>
<div class="tip" id="fs10">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs11">Multiple items<br />union case Target.Target: (Sign -&gt; bool) -&gt; Target<br /><br />--------------------<br />type Target = | Target of (Sign -&gt; bool)<br /><br />Full name: Treatment.Target<br /><em><br /><br />&#160;The target to achieve by Treatment<br />&#160;For example: &lt;/br&gt;<br />&#160;blood pressure &gt; 60 mmHg &lt;/br&gt;<br />&#160;pain score &lt; 1</em></div>
<div class="tip" id="fs12">type bool = System.Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs13">type Condition =<br />&#160;&#160;| Has of Target<br />&#160;&#160;| HasNot of Target<br /><br />Full name: Treatment.Condition<br /><em><br /><br />&#160;A Condition is a whether a Target<br />&#160;is met or not.</em></div>
<div class="tip" id="fs14">union case Condition.Has: Target -&gt; Condition</div>
<div class="tip" id="fs15">union case Condition.HasNot: Target -&gt; Condition</div>
<div class="tip" id="fs16">Multiple items<br />union case Order.Order: string -&gt; Order<br /><br />--------------------<br />type Order = | Order of string<br /><br />Full name: Treatment.Order<br /><em><br /><br />&#160;The order by which the Target can be achieved</em></div>
<div class="tip" id="fs17">Multiple items<br />union case Treatment.Treatment: Target * Order -&gt; Treatment<br /><br />--------------------<br />type Treatment = | Treatment of Target * Order<br /><br />Full name: Treatment.Treatment<br /><em><br /><br />&#160;An Order to achieve a Target</em></div>
<div class="tip" id="fs18">Multiple items<br />union case PatientTreatment.PatientTreatment: Patient * Treatment list -&gt; PatientTreatment<br /><br />--------------------<br />type PatientTreatment = | PatientTreatment of Patient * Treatment list<br /><br />Full name: Treatment.PatientTreatment<br /><em><br /><br />&#160;The list of treatment for a patient</em></div>
<div class="tip" id="fs19">Multiple items<br />union case Protocol.Protocol: (Condition list * Treatment) list -&gt; Protocol<br /><br />--------------------<br />type Protocol = | Protocol of (Condition list * Treatment) list<br /><br />Full name: Treatment.Protocol<br /><em><br /><br />&#160;A protocol is a list of Sign and a Treatment<br />&#160;ordered by precedence. If all Sign in the<br />&#160;Sign list is met and the Target is not met<br />&#160;then the Treatment can be applied.</em></div>
<div class="tip" id="fs20">type EvaluateProtocol = | Evaluate of (Protocol -&gt; PatientSigns -&gt; PatientTreatment -&gt; PatientTreatment)<br /><br />Full name: Treatment.EvaluateProtocol<br /><em><br /><br />&#160;Evaluate a Patient whether all Targets<br />&#160;in Protocol are met and add Treatment if<br />&#160;Target is not met or remove if<br />&#160;Target is not met</em></div>
<div class="tip" id="fs21">union case EvaluateProtocol.Evaluate: (Protocol -&gt; PatientSigns -&gt; PatientTreatment -&gt; PatientTreatment) -&gt; EvaluateProtocol</div>
<div class="tip" id="fs22">val createPatient : s:string -&gt; Patient<br /><br />Full name: Treatment.createPatient</div>
<div class="tip" id="fs23">val s : string</div>
<div class="tip" id="fs24">val createSign : c:(&#39;a -&gt; &#39;b) -&gt; s:&#39;a -&gt; &#39;b<br /><br />Full name: Treatment.createSign</div>
<div class="tip" id="fs25">val c : (&#39;a -&gt; &#39;b)</div>
<div class="tip" id="fs26">val s : &#39;a</div>
<div class="tip" id="fs27">val createBloodPressure : (int -&gt; Sign)<br /><br />Full name: Treatment.createBloodPressure</div>
<div class="tip" id="fs28">val createPainScore : (int -&gt; Sign)<br /><br />Full name: Treatment.createPainScore</div>
<div class="tip" id="fs29">val createPatienSigns : p:Patient -&gt; PatientSigns<br /><br />Full name: Treatment.createPatienSigns</div>
<div class="tip" id="fs30">val p : Patient</div>
<div class="tip" id="fs31">val addPatientSign : sgn:Sign -&gt; PatientSigns -&gt; PatientSigns<br /><br />Full name: Treatment.addPatientSign</div>
<div class="tip" id="fs32">val sgn : Sign</div>
<div class="tip" id="fs33">val sgns : Sign list</div>
<div class="tip" id="fs34">val testPat : Patient<br /><br />Full name: Treatment.testPat</div>
<div class="tip" id="fs35">val patsigns : PatientSigns<br /><br />Full name: Treatment.patsigns</div>
<div class="tip" id="fs36">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs37">val createTarget : f:(Sign -&gt; bool) -&gt; Target<br /><br />Full name: Treatment.createTarget</div>
<div class="tip" id="fs38">val f : (Sign -&gt; bool)</div>
<div class="tip" id="fs39">val createBloodPressureTarget : pred:(int -&gt; bool) -&gt; Target<br /><br />Full name: Treatment.createBloodPressureTarget</div>
<div class="tip" id="fs40">val pred : (int -&gt; bool)</div>
<div class="tip" id="fs41">val bp : int</div>
<div class="tip" id="fs42">val createPainScoreTarget : pred:(int -&gt; bool) -&gt; Target<br /><br />Full name: Treatment.createPainScoreTarget</div>
<div class="tip" id="fs43">val ps : int</div>
<div class="tip" id="fs44">val createCentralVenousLineCondition : c:(Target -&gt; Condition) -&gt; Condition<br /><br />Full name: Treatment.createCentralVenousLineCondition</div>
<div class="tip" id="fs45">val c : (Target -&gt; Condition)</div>
<div class="tip" id="fs46">val createLiverFailureCondition : c:(Target -&gt; Condition) -&gt; Condition<br /><br />Full name: Treatment.createLiverFailureCondition</div>
<div class="tip" id="fs47">val createBloodPressureCondition : pred:(int -&gt; bool) -&gt; c:(Target -&gt; Condition) -&gt; Condition<br /><br />Full name: Treatment.createBloodPressureCondition</div>
<div class="tip" id="fs48">val bpl : int</div>
<div class="tip" id="fs49">val bpTargetLt60 : Target<br /><br />Full name: Treatment.bpTargetLt60</div>
<div class="tip" id="fs50">val noPain : Target<br /><br />Full name: Treatment.noPain</div>
<div class="tip" id="fs51">val sc : int</div>
<div class="tip" id="fs52">val hasCvlCond : Condition<br /><br />Full name: Treatment.hasCvlCond</div>
<div class="tip" id="fs53">val noLvfCond : Condition<br /><br />Full name: Treatment.noLvfCond</div>
<div class="tip" id="fs54">val bpCondSt160 : Condition<br /><br />Full name: Treatment.bpCondSt160</div>
<div class="tip" id="fs55">val bp40 : Sign<br /><br />Full name: Treatment.bp40</div>
<div class="tip" id="fs56">val pain : Sign<br /><br />Full name: Treatment.pain</div>
<div class="tip" id="fs57">val cvl : Sign<br /><br />Full name: Treatment.cvl</div>
<div class="tip" id="fs58">val lvf : Sign<br /><br />Full name: Treatment.lvf</div>
<div class="tip" id="fs59">val targetIsMet : Target -&gt; sgns:Sign list -&gt; bool<br /><br />Full name: Treatment.targetIsMet</div>
<div class="tip" id="fs60">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs61">val forall : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.List.forall</div>
<div class="tip" id="fs62">val conditionIsMet : cond:Condition -&gt; sgns:Sign list -&gt; bool<br /><br />Full name: Treatment.conditionIsMet</div>
<div class="tip" id="fs63">val cond : Condition</div>
<div class="tip" id="fs64">val exists : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.List.exists</div>
<div class="tip" id="fs65">val isEmpty : list:&#39;T list -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.List.isEmpty</div>
<div class="tip" id="fs66">val not : value:bool -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Operators.not</div>
<div class="tip" id="fs67">val createOrder : ord:string -&gt; Order<br /><br />Full name: Treatment.createOrder</div>
<div class="tip" id="fs68">val ord : string</div>
<div class="tip" id="fs69">val pcm : Order<br /><br />Full name: Treatment.pcm</div>
<div class="tip" id="fs70">val morf : Order<br /><br />Full name: Treatment.morf</div>
<div class="tip" id="fs71">val dopa : Order<br /><br />Full name: Treatment.dopa</div>
<div class="tip" id="fs72">val nor : Order<br /><br />Full name: Treatment.nor</div>
<div class="tip" id="fs73">val createTreatment : targ:Target -&gt; ord:Order -&gt; Treatment<br /><br />Full name: Treatment.createTreatment</div>
<div class="tip" id="fs74">val targ : Target</div>
<div class="tip" id="fs75">val ord : Order</div>
<div class="tip" id="fs76">val eqsTreatment : Treatment -&gt; Treatment -&gt; bool<br /><br />Full name: Treatment.eqsTreatment</div>
<div class="tip" id="fs77">val ord1 : Order</div>
<div class="tip" id="fs78">val ord2 : Order</div>
<div class="tip" id="fs79">val pcmTreat : Treatment<br /><br />Full name: Treatment.pcmTreat</div>
<div class="tip" id="fs80">val morfTreat : Treatment<br /><br />Full name: Treatment.morfTreat</div>
<div class="tip" id="fs81">val dopaTreat : Treatment<br /><br />Full name: Treatment.dopaTreat</div>
<div class="tip" id="fs82">val norTreat : Treatment<br /><br />Full name: Treatment.norTreat</div>
<div class="tip" id="fs83">val createProtocol : cnds:Condition list -&gt; trt:Treatment -&gt; Protocol<br /><br />Full name: Treatment.createProtocol</div>
<div class="tip" id="fs84">val cnds : Condition list</div>
<div class="tip" id="fs85">val trt : Treatment</div>
<div class="tip" id="fs86">val nextStepInProtocol : cnds:Condition list -&gt; trt:Treatment -&gt; Protocol -&gt; Protocol<br /><br />Full name: Treatment.nextStepInProtocol</div>
<div class="tip" id="fs87">val trts : (Condition list * Treatment) list</div>
<div class="tip" id="fs88">val append : list1:&#39;T list -&gt; list2:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.append</div>
<div class="tip" id="fs89">val painProtocol : Protocol<br /><br />Full name: Treatment.painProtocol</div>
<div class="tip" id="fs90">val bpProtocol : Protocol<br /><br />Full name: Treatment.bpProtocol</div>
<div class="tip" id="fs91">val createPatientTreatment : testPat:Patient -&gt; trts:Treatment list -&gt; PatientTreatment<br /><br />Full name: Treatment.createPatientTreatment</div>
<div class="tip" id="fs92">val testPat : Patient</div>
<div class="tip" id="fs93">val trts : Treatment list</div>
<div class="tip" id="fs94">val addPatientTreatment : trt:Treatment -&gt; PatientTreatment -&gt; PatientTreatment<br /><br />Full name: Treatment.addPatientTreatment</div>
<div class="tip" id="fs95">val removePatientTreatment : trt:Treatment -&gt; PatientTreatment -&gt; PatientTreatment<br /><br />Full name: Treatment.removePatientTreatment</div>
<div class="tip" id="fs96">val filter : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.filter</div>
<div class="tip" id="fs97">val patTreatm : PatientTreatment<br /><br />Full name: Treatment.patTreatm</div>
<div class="tip" id="fs98">val printTreatment : PatientTreatment -&gt; unit<br /><br />Full name: Treatment.printTreatment</div>
<div class="tip" id="fs99">val pat : Patient</div>
<div class="tip" id="fs100">val n : string</div>
<div class="tip" id="fs101">val evaluateProtocol : prot:Protocol -&gt; PatientSigns -&gt; patTr:PatientTreatment -&gt; PatientTreatment<br /><br />Full name: Treatment.evaluateProtocol</div>
<div class="tip" id="fs102">val prot : Protocol</div>
<div class="tip" id="fs103">val patTr : PatientTreatment</div>
<div class="tip" id="fs104">val eval : (Protocol -&gt; PatientTreatment -&gt; PatientTreatment)</div>
<div class="tip" id="fs105">val xs : (Condition list * Treatment) list</div>
<div class="tip" id="fs106">val acc : PatientTreatment</div>
<div class="tip" id="fs107">val h : Condition list * Treatment</div>
<div class="tip" id="fs108">val rest : (Condition list * Treatment) list</div>
<div class="tip" id="fs109">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs110">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs111">val trg : Target</div>
<div class="tip" id="fs112">val condMet : bool</div>
<div class="tip" id="fs113">val cnd : Condition</div>
<div class="tip" id="fs114">val targetMet : bool</div>
<div class="tip" id="fs115">val hasNotTrt : bool</div>
<div class="tip" id="fs116">val signs : PatientSigns</div>
<div class="tip" id="fs117">val pt : PatientTreatment</div>

        </div>
        <div class="span3">
          <img src="/GenTreat/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">GenTreat</li>
            <li><a href="/GenTreat/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Informedica.GenTreat.Lib">Get Library via NuGet</a></li>
            <li><a href="http://github.com/halcwb/GenTreat">Source Code on GitHub</a></li>
            <li><a href="/GenTreat/license.html">License</a></li>
            <li><a href="/GenTreat/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/GenTreat/tutorial.html">Sample tutorial</a></li>
            <li><a href="/GenTreat/treatment.html">Top Down Design</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/GenTreat/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/halcwb/GenTreat"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
